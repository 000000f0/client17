{"ast":null,"code":"'use strict';\n\nconst DataManager = require('./DataManager');\n\n/**\n * Manages the API methods of a data model with a mutable cache of instances.\n * @extends {DataManager}\n * @abstract\n */\nclass CachedManager extends DataManager {\n  constructor(client, holds, iterable) {\n    super(client, holds);\n\n    /**\n     * The private cache of items for this manager.\n     * @type {Collection}\n     * @private\n     * @readonly\n     * @name CachedManager#_cache\n     */\n    Object.defineProperty(this, '_cache', {\n      value: this.client.options.makeCache(this.constructor, this.holds)\n    });\n    if (iterable) {\n      for (const item of iterable) {\n        this._add(item);\n      }\n    }\n  }\n\n  /**\n   * The cache of items for this manager.\n   * @type {Collection}\n   * @abstract\n   */\n  get cache() {\n    return this._cache;\n  }\n  _add(data) {\n    let cache = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    let {\n      id,\n      extras = []\n    } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const existing = this.cache.get(id ?? data.id);\n    if (existing) {\n      if (cache) {\n        existing._patch(data);\n        return existing;\n      }\n      const clone = existing._clone();\n      clone._patch(data);\n      return clone;\n    }\n    const entry = this.holds ? new this.holds(this.client, data, ...extras) : data;\n    if (cache) this.cache.set(id ?? entry.id, entry);\n    return entry;\n  }\n}\nmodule.exports = CachedManager;","map":{"version":3,"names":["DataManager","require","CachedManager","constructor","client","holds","iterable","Object","defineProperty","value","options","makeCache","item","_add","cache","_cache","data","arguments","length","undefined","id","extras","existing","get","_patch","clone","_clone","entry","set","module","exports"],"sources":["/Users/williedejongh/Downloads/ark3-main4/node_modules/discord.js/src/managers/CachedManager.js"],"sourcesContent":["'use strict';\n\nconst DataManager = require('./DataManager');\n\n/**\n * Manages the API methods of a data model with a mutable cache of instances.\n * @extends {DataManager}\n * @abstract\n */\nclass CachedManager extends DataManager {\n  constructor(client, holds, iterable) {\n    super(client, holds);\n\n    /**\n     * The private cache of items for this manager.\n     * @type {Collection}\n     * @private\n     * @readonly\n     * @name CachedManager#_cache\n     */\n    Object.defineProperty(this, '_cache', { value: this.client.options.makeCache(this.constructor, this.holds) });\n\n    if (iterable) {\n      for (const item of iterable) {\n        this._add(item);\n      }\n    }\n  }\n\n  /**\n   * The cache of items for this manager.\n   * @type {Collection}\n   * @abstract\n   */\n  get cache() {\n    return this._cache;\n  }\n\n  _add(data, cache = true, { id, extras = [] } = {}) {\n    const existing = this.cache.get(id ?? data.id);\n    if (existing) {\n      if (cache) {\n        existing._patch(data);\n        return existing;\n      }\n      const clone = existing._clone();\n      clone._patch(data);\n      return clone;\n    }\n\n    const entry = this.holds ? new this.holds(this.client, data, ...extras) : data;\n    if (cache) this.cache.set(id ?? entry.id, entry);\n    return entry;\n  }\n}\n\nmodule.exports = CachedManager;\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,WAAW,GAAGC,OAAO,CAAC,eAAe,CAAC;;AAE5C;AACA;AACA;AACA;AACA;AACA,MAAMC,aAAa,SAASF,WAAW,CAAC;EACtCG,WAAWA,CAACC,MAAM,EAAEC,KAAK,EAAEC,QAAQ,EAAE;IACnC,KAAK,CAACF,MAAM,EAAEC,KAAK,CAAC;;IAEpB;AACJ;AACA;AACA;AACA;AACA;AACA;IACIE,MAAM,CAACC,cAAc,CAAC,IAAI,EAAE,QAAQ,EAAE;MAAEC,KAAK,EAAE,IAAI,CAACL,MAAM,CAACM,OAAO,CAACC,SAAS,CAAC,IAAI,CAACR,WAAW,EAAE,IAAI,CAACE,KAAK;IAAE,CAAC,CAAC;IAE7G,IAAIC,QAAQ,EAAE;MACZ,KAAK,MAAMM,IAAI,IAAIN,QAAQ,EAAE;QAC3B,IAAI,CAACO,IAAI,CAACD,IAAI,CAAC;MACjB;IACF;EACF;;EAEA;AACF;AACA;AACA;AACA;EACE,IAAIE,KAAKA,CAAA,EAAG;IACV,OAAO,IAAI,CAACC,MAAM;EACpB;EAEAF,IAAIA,CAACG,IAAI,EAA0C;IAAA,IAAxCF,KAAK,GAAAG,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;IAAA,IAAE;MAAEG,EAAE;MAAEC,MAAM,GAAG;IAAG,CAAC,GAAAJ,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;IAC/C,MAAMK,QAAQ,GAAG,IAAI,CAACR,KAAK,CAACS,GAAG,CAACH,EAAE,IAAIJ,IAAI,CAACI,EAAE,CAAC;IAC9C,IAAIE,QAAQ,EAAE;MACZ,IAAIR,KAAK,EAAE;QACTQ,QAAQ,CAACE,MAAM,CAACR,IAAI,CAAC;QACrB,OAAOM,QAAQ;MACjB;MACA,MAAMG,KAAK,GAAGH,QAAQ,CAACI,MAAM,EAAE;MAC/BD,KAAK,CAACD,MAAM,CAACR,IAAI,CAAC;MAClB,OAAOS,KAAK;IACd;IAEA,MAAME,KAAK,GAAG,IAAI,CAACtB,KAAK,GAAG,IAAI,IAAI,CAACA,KAAK,CAAC,IAAI,CAACD,MAAM,EAAEY,IAAI,EAAE,GAAGK,MAAM,CAAC,GAAGL,IAAI;IAC9E,IAAIF,KAAK,EAAE,IAAI,CAACA,KAAK,CAACc,GAAG,CAACR,EAAE,IAAIO,KAAK,CAACP,EAAE,EAAEO,KAAK,CAAC;IAChD,OAAOA,KAAK;EACd;AACF;AAEAE,MAAM,CAACC,OAAO,GAAG5B,aAAa"},"metadata":{},"sourceType":"script","externalDependencies":[]}